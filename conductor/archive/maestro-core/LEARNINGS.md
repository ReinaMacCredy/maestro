# Learnings: maestro-core

<!-- Auto-generated by /conductor-finish -->

## Commands

- `bd dep add <child> <parent>` - Wire dependencies after bead creation (not auto-mapped from plan structure)
- `/conductor-newtrack <id>` - Creates metadata.json in Phase 1.3 BEFORE spec/plan generation

## Gotchas

- Design skill's original HALT behavior on missing conductor/ was a major adoption blocker - changed to DEGRADE
- `bd create` requires manual dependency wiring after creation; plan structure doesn't auto-map
- Track state file creation order matters: metadata.json must exist BEFORE beads skill runs
- Skill prerequisite pattern uses markdown `**REQUIRED SUB-SKILL:**` not frontmatter `requires:`

## Patterns

- **Lean SKILL.md Pattern:** Keep orchestration skills ≤100 lines, move detailed logic to references/
- **HALT vs DEGRADE Decision:** HALT only when dependency blocks ALL functionality; DEGRADE for optional features
- **Message Format Standards:**
  - HALT: `❌ Cannot proceed: [reason]. [fix instruction].`
  - DEGRADE: `⚠️ [Feature] unavailable. [Fallback behavior].`
- **5-Level Hierarchy:** maestro-core > conductor > design > beads > specialized (higher wins on conflicts)
- **Context-Aware Routing:** Check for explicit commands first, then context (conductor/ exists?) to route

---

**Source threads:**

- T-019b68ef-20a1-742c-8f63-4912e0c65d87: Design session with Party Mode
- T-019b6910-6549-7079-a3ae-2031d0e86071: Implementation (prior thread)
- T-019b6914-8bbc-70b6-bda0-68d6fbc725b1: Implementation (this thread)
