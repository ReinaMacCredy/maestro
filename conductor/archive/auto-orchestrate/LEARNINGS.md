# Learnings: auto-orchestrate

<!-- Auto-generated by /conductor-finish -->

## Commands

- `bv --robot-triage --graph-root <epic-id> --json` - Query beads dependency graph for orchestration
- `bd ready --json` - Get ready beads (unblocked) for wave re-dispatch

## Gotchas

- Auto-orchestration: `fb` Phase 6 triggers orchestration automatically after beads are filed
- `metadata.json.beads.orchestrated` flag ensures idempotency - re-running `fb` skips if already orchestrated
- Agent Mail MCP Failure: If Agent Mail unavailable, graceful fallback to sequential `/conductor-implement`
- Worker Autonomy: Orchestrator workers CAN self-claim/close beads (differs from standard subagent rules)
- Wave Execution: After wave N workers complete, query `bd ready --json` and spawn wave N+1 for newly-unblocked beads until no more ready beads exist

## Patterns

- **Auto-Orchestration Integration**: Two sources - auto-generated (from fb Phase 6, passed in-memory) vs manual (user runs `/conductor-orchestrate`, parse from plan.md)
- **Wave Execution Loop**: Re-dispatch pattern - after each wave completes, check for newly-ready beads and spawn next wave

---

**Source threads:**

- T-019b6d80-cd2b-75db-8eb7-4926c0e6aa78: Auto-orchestrate track implementation continues
