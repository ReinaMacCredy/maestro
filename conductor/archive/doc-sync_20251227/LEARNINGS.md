# Learnings: doc-sync_20251227

<!-- Auto-generated by /conductor-finish -->

## Commands

- `/doc-sync` - Manual trigger to sync documentation with code changes
- `/doc-sync --dry-run` - Preview changes without applying
- `/doc-sync --force` - Apply all changes without prompts
- `--skip-doc-sync` flag for `/conductor-finish` to skip Phase 7

## Gotchas

- Doc-sync runs as Phase 7 in `/conductor-finish` (after CODEMAPS)
- Doc-sync errors are non-blocking - workflow continues even if doc-sync fails
- Minor changes (path renames, function renames) are auto-applied
- Major changes (new features, removed features, API changes) prompt user
- Scanner excludes `node_modules/`, `.git/`, `vendor/`, `.beads/`, `conductor/archive/`

## Patterns

- **3-phase workflow**: Scan → Detect → Update
- **Impact classification**: Score-based (1-2 minor, 3-5 minor+summary, 6+ major)
- **Dual source detection**: Git diff + Beads context for accuracy
- **Conservative matching**: Prefer missing refs over false positives

---

**Source:** Current thread (doc-sync implementation session)
