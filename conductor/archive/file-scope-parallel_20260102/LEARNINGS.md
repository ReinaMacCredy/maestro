# Learnings: file-scope-parallel_20260102

<!-- Auto-generated by /conductor-finish -->

## Commands

- `bd dep add <id> <epic-id>` - Wire task dependencies to epic after creation
- `bd list --status=open --json` - Check task statuses during orchestration
- `bd close <id> --reason completed` - Close tasks with explicit reason

## Gotchas

- Initial dependency wiring: Epic as blocker (`dependency_type: blocks`) shows high dependency count even when tasks are ready for Wave 1 - verify tasks not blocked by *other* tasks
- Agent Mail health check: Use `reason` parameter in `mcp__mcp_agent_mail__health_check` tool call

## Patterns

- **Two-Stage File Scope Analysis**: Stage 1 at `/conductor-newtrack` (suggest), Stage 2 at `/conductor-implement` (confirm)
- **File Overlap Grouping**: Tasks touching same files → sequential; different files → can be parallel
- **Confirmation Prompt**: "Run parallel? [Y/n]" before orchestrator dispatch
- **Priority 1.5 Routing**: fileScopes-based routing added between Track Assignments check and beads auto-detect
- **Wave Execution**: Independent tracks (A, B) run in Wave 1 concurrently; dependent track (C) runs in Wave 2

---

**Source threads:**

- T-019b7e16-8996-753e-a133-b7a14e581562: Multi-agent parallel execution of file-scope detection feature
