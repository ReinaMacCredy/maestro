# Learnings: skill-integration_20251228

<!-- Auto-generated by /conductor-finish -->

## Commands

- `bd close <id1> <id2> --reason completed` - Close multiple beads at once
- `git mv <source> <destination>` followed by `git commit` - Preserve git history when moving files
- `touch conductor/sessions/active/LEDGER.log` - Initialize append-only session log (gitignored)
- `ls skills/conductor/references/` - Verify reference structure after migration

## Gotchas

- **Extraction fidelity loss**: Initial extraction of TDD, Verification, and Finishing skills lost key philosophical content (e.g., "Why Order Matters", rationalization prevention). Fix: copy full SKILL.md first, then split.
- **Broken references after deletion**: After deleting old skills, references in writing-skills/SKILL.md, AGENTS.md, and conductor workflows pointed to deleted paths. Always update references BEFORE deleting source files.
- **LEDGER.log is gitignored**: `conductor/sessions/active/LEDGER.log` is correctly ignored by git (personal session state, not shared).
- **Hard-linked skill directories**: skills/ ↔ skills/ are hard-linked; updates to one affect both, but both paths must be explicitly deleted.

## Patterns

- **Big Bang Merge**: Single PR approach for atomic skill consolidation (15→6 skills)
- **LEDGER.log Format**: Append-only with `TIMESTAMP | EVENT | DATA`, max 1000 entries, auto-rotate to .log.1
- **Content Split Pattern**:
  - TDD → `cycle.md` (process) + `gates.md` (enforcement/rationalizations)
  - Verification → `gate.md` (rules) + `rollback.md` (failure handling)
  - Finishing → `branch-options.md` (4 choices) + `cleanup.md` (worktree logic)
- **Discipline in AGENTS.md**: Move skill discipline rules from skill files to AGENTS.md for global enforcement
- **References Structure**: All detailed content lives in `conductor/references/`, SKILL.md stays as overview

---

**Source threads:**

- T-019b65ab-d98d-777e-bb21-484a2fdc34b9: Skill Integration implementation
