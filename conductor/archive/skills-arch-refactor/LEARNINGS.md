# Learnings: skills-arch-refactor

<!-- Auto-generated by /conductor-finish -->

## Commands

- `git mv skills/design skills/designing` - Rename skill while preserving git history
- `git mv skills/beads skills/tracking` - Rename skill while preserving git history
- Update SKILL.md frontmatter: `name: designing` (must match directory name)
- Routing table updates in maestro-core propagate to all workflow skills

## Gotchas

- Reference flattening required replacing deep cross-skill refs (e.g., `../conductor/references/X.md`) with skill loader pointers or self-contained content
- Skill directory name MUST match SKILL.md frontmatter `name:` field
- When merging skills (skill-creator + writing-skills → creating-skills), resolve conflicting guidelines by preferring more specific/recent guidance
- Redirect stubs needed for moved files to prevent broken links during transition

## Patterns

- **4-Step Worker Protocol:** REGISTER (macro_start_session) → EXECUTE (claim/work/close) → REPORT (send_message) → CLEANUP (release_file_reservations)
- **Ownership Matrix Pattern:** Each skill explicitly owns specific artifacts - no overlap (designing→design phases, conductor→implementation, orchestrator→workers, tracking→beads, handoff→session)
- **Reference Flattening:** Max 1-level deep references (except bmad/, agents/) - use skill loader pointers for cross-skill dependencies
- **Gerund Naming Convention:** Action-oriented skills use gerunds (designing, tracking, creating-skills) per Anthropic best practices
- **Command Migration:** When moving commands between skills, update: (1) source skill entry points, (2) target skill entry points, (3) maestro-core routing table

---

**Source threads:**
- T-019b9d04-d15b-72aa-b611-0101e13cbc29: Skills Architecture Refactor epic execution
