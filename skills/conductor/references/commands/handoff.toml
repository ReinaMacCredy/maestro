description = "Unified handoff command for session continuity - creates or resumes handoffs with auto-detect"
prompt = """
## Unified Handoff Command

**Syntax:**
- `/conductor-handoff` - Auto-detect mode (default)
- `/conductor-handoff create [trigger]` - Force create handoff
- `/conductor-handoff resume [path|track]` - Force resume from handoff

**Aliases:**
- `/create_handoff` → `/conductor-handoff create`
- `/resume_handoff` → `/conductor-handoff resume`

---

## Auto-Detect Logic

```
IF session_first_message AND recent_handoff_exists(<7d)
  → RESUME mode
ELSE
  → CREATE mode
```

---

## Mode Routing

1. **Parse Subcommand:**
   - If `create` specified → Execute CREATE mode
   - If `resume` specified → Execute RESUME mode
   - If no subcommand → Run auto-detect logic

2. **Load Workflow:**
   Reference: [handoff skill](../../../handoff/SKILL.md)
   
   - CREATE mode: Execute 9-step create workflow
   - RESUME mode: Execute 9-step resume workflow

---

## Quick Reference

| Mode | Steps | Key Features |
|------|-------|--------------|
| CREATE | 9 | Parallel check, Beads sync, Agent Mail |
| RESUME | 9 | Beads context, Progress %, Todo creation |

See [handoff skill](../../../handoff/SKILL.md) for full workflow details.
"""
